@using DHXHelperDemo.Code.DHX
@model DHXHelperDemo.Code.DHX.DHXGridVm

<script type="text/javascript">

    var grid;
    var mygrid;

    window.onload = function() {

        try {
            grid = new dhtmlXGridObject('@Model.TargetDivID');
            grid.setImagePath('@Url.Content("~/Scripts/dhtml/imgs/")');
            grid.setHeader("@Html.DHXGridHeaderDefinitions(Model)");
            grid.setColumnIds("@Html.DHXGridColumnIDDefinitions(Model)");
            grid.setColAlign("@Html.DHXGridColumnAlignmentDefinitions(Model)");
            grid.setInitWidths("@Html.DHXGridColumnWidthDefinitions(Model)");
            grid.enableMultiline(true);
            @Html.Raw(String.Format("grid.enableColumnAutoSize({0});", Model.AllowColumnAutoSizing.ToString().ToLowerInvariant()))
            grid.init();
            grid.setSkin("dhx_skyblue");
            grid.load('@Html.Raw(Model.AjaxUrl)', "js");
        } catch (ex) {
            console.log(ex);
        }

        
        //debugger;
        @*mygrid = new dhtmlXGridObject({
            parent: '@Model.TargetDivID',
            image_path: "@Url.Content("~/Scripts/dhtml/imgs/")",
            skin: "dhx_skyblue",
            columns: [@Html.DHXGridColumnDefinitions(Model)],
            @Html.Raw("multiline:" + (Model.MultiLine ? "true,": "false,"))
            @Html.Raw("column_move:" + (Model.ColumnReorder ? "true,": "false,"))
            load: "@Html.Raw(Model.AjaxUrl)"

        });
        mygrid.init();
        mygrid.load('/Scheduling/SiteAction/NewGetHistory', "js");
        *@
        };

</script>
